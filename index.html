<!doctype html>
<html lang="uk">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Will you be my Valentine?</title>
  <style>
    :root{
      --bg1:#f8c6d6;
      --bg2:#f6a7c2;
      --card:#ffffffcc;
      --text:#222;
      --muted:#666;
      --yes:#ff4f7a;
      --yesHover:#ff2f64;
      --no:#e8e8ee;
    }
    *{box-sizing:border-box;font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif}
    body{
      margin:0; min-height:100vh;
      display:flex; align-items:center; justify-content:center;
      padding:24px;
      background: radial-gradient(circle at 30% 20%, var(--bg1), var(--bg2));
      color:var(--text);
      overflow:hidden;
    }
    .wrap{
      width:min(720px, 92vw);
      background:var(--card);
      border-radius:24px;
      padding:28px 22px 26px;
      box-shadow:0 20px 60px rgba(0,0,0,.15);
      position:relative;
      overflow:hidden;
      backdrop-filter: blur(6px);
    }
    .top{
      display:flex;
      flex-direction:column;
      align-items:center;
      text-align:center;
      gap:10px;
    }
    .kitty{
      width:74px; height:74px;
      border-radius:50%;
      background:#f2b07b;
      position:relative;
      margin-top:4px;
      box-shadow: 0 10px 24px rgba(0,0,0,.12);
    }
    .kitty:before{
      content:"";
      position:absolute;
      width:18px;height:18px;
      left:10px; top:8px;
      background:#e49a64;
      transform:rotate(20deg);
      border-radius:3px 14px 14px 14px;
    }
    .kitty:after{
      content:"";
      position:absolute;
      width:18px;height:18px;
      right:10px; top:8px;
      background:#e49a64;
      transform:rotate(-20deg);
      border-radius:14px 3px 14px 14px;
    }
    .heart{
      position:absolute;
      width:26px;height:22px;
      right:8px; top:-4px;
      transform: rotate(10deg);
    }
    .heart:before,.heart:after{
      content:"";
      position:absolute;
      width:14px;height:18px;
      background:#ff3b6b;
      border-radius:12px 12px 0 0;
      top:2px;
    }
    .heart:before{left:6px; transform:rotate(-45deg); transform-origin:0 100%;}
    .heart:after{left:0; transform:rotate(45deg); transform-origin:100% 100%;}
    .eye{
      position:absolute; top:33px;
      width:8px;height:8px;
      background:#111;border-radius:50%;
    }
    .eye.l{left:25px}
    .eye.r{right:25px}
    .nose{
      position:absolute; top:43px; left:50%;
      width:10px;height:8px;
      transform:translateX(-50%);
      background:#ff6a8f;
      border-radius:50%;
    }

    h1{
      margin:4px 0 0;
      font-size:clamp(24px, 4.2vw, 38px);
      line-height:1.15;
    }
    .sub{
      margin:0;
      font-size:clamp(14px, 2.6vw, 18px);
      color:var(--muted);
      transition:opacity .25s ease, transform .25s ease;
    }
    .sub.hidden{
      opacity:0;
      transform:translateY(-6px);
      pointer-events:none;
    }

    .btnArea{
      margin-top:18px;
      width:100%;
      display:flex;
      justify-content:center;
      gap:14px;
      position:relative;
      height:64px;
    }
    button{
      border:none;
      padding:14px 22px;
      border-radius:999px;
      font-size:18px;
      cursor:pointer;
      transition:transform .12s ease, background .12s ease;
      user-select:none;
      -webkit-tap-highlight-color: transparent;
    }
    #yesBtn{
      background:var(--yes);
      color:white;
      font-weight:800;
      min-width:120px;
      box-shadow:0 14px 24px rgba(255,79,122,.35);
    }
    #yesBtn:active{transform:scale(.98)}
    #yesBtn:hover{background:var(--yesHover)}
    #noBtn{
      background:var(--no);
      color:#222;
      font-weight:700;
      min-width:90px;
      position:relative;
    }
    #noBtn:active{transform:scale(.98)}

    .result{
      margin-top:14px;
      text-align:center;
      display:none;
      animation:pop .25s ease;
    }
    @keyframes pop{
      from{transform:scale(.96); opacity:.0}
      to{transform:scale(1); opacity:1}
    }
    .yay{
      font-size:clamp(26px, 5vw, 44px);
      font-weight:900;
      margin:8px 0 10px;
    }
    .img{
      width:min(520px, 86vw);
      border-radius:18px;
      overflow:hidden;
      box-shadow:0 12px 30px rgba(0,0,0,.18);
      margin:0 auto;
    }
    .img img{
      width:100%;
      height:auto;
      display:block;
    }
    .love{
      margin:14px 0 0;
      font-size:clamp(18px, 3.2vw, 26px);
      font-weight:800;
    }

    /* Confetti canvas above everything */
    canvas#confetti {
      position:fixed;
      inset:0;
      width:100vw;
      height:100vh;
      pointer-events:none;
      display:none;
      z-index:9999;
    }
  </style>
</head>
<body>
  <canvas id="confetti"></canvas>

  <div class="wrap">
    <div class="top">
      <div class="kitty" aria-hidden="true">
        <div class="heart" aria-hidden="true"></div>
        <div class="eye l" aria-hidden="true"></div>
        <div class="eye r" aria-hidden="true"></div>
        <div class="nose" aria-hidden="true"></div>
      </div>

      <h1><span id="name">Slava</span> will you be my valentine?</h1>

      <!-- –¶–µ ‚ÄúNo –∑–¥–∞—î—Ç—å—Å—è‚Ä¶‚Äù: –±—É–¥–µ –î–û YES, —ñ –∑–Ω–∏–∫–Ω–µ –ü–Ü–°–õ–Ø YES -->
      <p class="sub" id="subText">"No" –∑–¥–∞—î—Ç—å—Å—è —Ç—Ä–æ—Ö–∏ —Å–æ—Ä–æ–º'—è–∑–ª–∏–≤–∏–º üòà</p>

      <div class="btnArea" id="btnArea">
        <button id="yesBtn">Yes</button>
        <button id="noBtn">No</button>
      </div>
    </div>

    <div class="result" id="result">
      <div class="yay">YAY! üéâ</div>
      <div class="img">
        <!-- –¢–£–¢ –Ω–∞–∑–≤–∞ —Ñ–æ—Ç–æ -->
        <img alt="Us" id="yayImg" src="548_Original.jpeg">
      </div>
      <div class="love">–ö–æ—Ö–∞—é —Ç–µ–±–µ –±–µ–∑–º–µ–∂–Ω–æ</div>
    </div>

    <!-- –ê—É–¥—ñ–æ (–≥—Ä–∞—î –ø—ñ—Å–ª—è YES) -->
    <audio id="loveSong" preload="auto">
      <!-- –¢–£–¢ –Ω–∞–∑–≤–∞ –ø—ñ—Å–Ω—ñ -->
      <source src="Iloveyoubaby.m4a" type="audio/mp4">
    </audio>
  </div>

  <script>
    // --- Move "No" button around ---
    const btnArea = document.getElementById("btnArea");
    const noBtn = document.getElementById("noBtn");
    const yesBtn = document.getElementById("yesBtn");
    const result = document.getElementById("result");
    const subText = document.getElementById("subText");

    function moveNoButton() {
      const areaRect = btnArea.getBoundingClientRect();
      const btnRect = noBtn.getBoundingClientRect();

      const pad = 6;
      const maxX = areaRect.width - btnRect.width - pad;
      const maxY = areaRect.height - btnRect.height - pad;

      const x = Math.max(pad, Math.random() * maxX);
      const y = Math.max(pad, Math.random() * maxY);

      noBtn.style.position = "absolute";
      noBtn.style.left = x + "px";
      noBtn.style.top = y + "px";
    }

    // –ù–∞ –º–æ–±—ñ–ª—å–Ω–æ–º—É –∫—Ä–∞—â–µ —Ä–µ–∞–≥—É—î –Ω–∞ touchstart
    noBtn.addEventListener("mouseenter", moveNoButton);
    noBtn.addEventListener("touchstart", (e) => { e.preventDefault(); moveNoButton(); }, {passive:false});
    noBtn.addEventListener("click", moveNoButton);

    // --- Confetti / fireworks ---
    const canvas = document.getElementById("confetti");
    const ctx = canvas.getContext("2d");
    let confettiOn = false;
    let particles = [];
    let rafId = null;

    function resizeCanvas() {
      const dpr = Math.max(1, window.devicePixelRatio || 1);
      canvas.width = Math.floor(window.innerWidth * dpr);
      canvas.height = Math.floor(window.innerHeight * dpr);
      canvas.style.width = window.innerWidth + "px";
      canvas.style.height = window.innerHeight + "px";
      ctx.setTransform(dpr, 0, 0, dpr, 0, 0);
    }
    window.addEventListener("resize", resizeCanvas);

    function makeBurst(x, y, count) {
      for (let i = 0; i < count; i++) {
        const angle = Math.random() * Math.PI * 2;
        const speed = 2 + Math.random() * 6;
        particles.push({
          x, y,
          vx: Math.cos(angle) * speed,
          vy: Math.sin(angle) * speed - 2,
          g: 0.12 + Math.random() * 0.10,
          life: 80 + Math.random() * 40,
          size: 2 + Math.random() * 4,
          hue: Math.floor(Math.random() * 360),
          rot: Math.random() * Math.PI
        });
      }
    }

    function tick() {
      if (!confettiOn) return;

      ctx.clearRect(0, 0, window.innerWidth, window.innerHeight);

      // –¥–æ–¥–∞—Ç–∫–æ–≤—ñ ‚Äú–ø–æ—Å—Ç—Ä—ñ–ª–∏‚Äù
      if (Math.random() < 0.08) {
        makeBurst(
          50 + Math.random() * (window.innerWidth - 100),
          80 + Math.random() * (window.innerHeight * 0.35),
          50
        );
      }

      particles = particles.filter(p => p.life > 0);
      for (const p of particles) {
        p.life -= 1;
        p.vy += p.g;
        p.x += p.vx;
        p.y += p.vy;
        p.rot += 0.15;

        ctx.save();
        ctx.translate(p.x, p.y);
        ctx.rotate(p.rot);
        ctx.fillStyle = `hsl(${p.hue} 90% 55%)`;
        ctx.fillRect(-p.size/2, -p.size/2, p.size, p.size*1.8);
        ctx.restore();
      }

      rafId = requestAnimationFrame(tick);
    }

    function startConfetti() {
      resizeCanvas();
      canvas.style.display = "block";
      confettiOn = true;
      // –ø–µ—Ä—à–∏–π –≤–µ–ª–∏–∫–∏–π —Ñ–µ—î—Ä–≤–µ—Ä–∫
      makeBurst(window.innerWidth * 0.5, window.innerHeight * 0.25, 180);
      if (!rafId) tick();

      // –∑—É–ø–∏–Ω–∏—Ç–∏ —á–µ—Ä–µ–∑ 7 —Å–µ–∫—É–Ω–¥ (–∑–∞ –±–∞–∂–∞–Ω–Ω—è–º –º–æ–∂—É –∑—Ä–æ–±–∏—Ç–∏ –¥–æ–≤—à–µ/–±–µ–∑–∫—ñ–Ω–µ—á–Ω–æ)
      setTimeout(() => {
        confettiOn = false;
        canvas.style.display = "none";
        particles = [];
        if (rafId) cancelAnimationFrame(rafId);
        rafId = null;
      }, 7000);
    }

    // --- YES action: hide sub text, show result, play music, start fireworks ---
    yesBtn.addEventListener("click", async () => {
      // 1) —Ö–æ–≤–∞—î–º–æ ‚ÄúNo –∑–¥–∞—î—Ç—å—Å—è‚Ä¶‚Äù
      subText.classList.add("hidden");

      // 2) –ø—Ä–∏–±–∏—Ä–∞—î–º–æ –∫–Ω–æ–ø–∫–∏ / –ø–æ–∫–∞–∑—É—î–º–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç
      btnArea.style.display = "none";
      result.style.display = "block";

      // 3) –∑–∞–ø—É—Å–∫–∞—î–º–æ —Ñ–µ—î—Ä–≤–µ—Ä–∫–∏
      startConfetti();

      // 4) –∑–∞–ø—É—Å–∫–∞—î–º–æ –º—É–∑–∏–∫—É (–ø—Ä–∞—Ü—é—î —Ç—ñ–ª—å–∫–∏ –ø—ñ—Å–ª—è –∫–ª—ñ–∫—É ‚Äî —Ü–µ –æ–∫)
      const song = document.getElementById("loveSong");
      try {
        await song.play();
      } catch (e) {
        // –Ø–∫—â–æ —Ä–∞–ø—Ç–æ–º iOS –Ω–µ –¥–∞—Å—Ç—å ‚Äî –ø—Ä–æ—Å—Ç–æ –Ω–∞—Ç–∏—Å–Ω–∏ —â–µ —Ä–∞–∑ YES –∞–±–æ —Å–∫–∞–∂–∏ –º–µ–Ω—ñ, –∑—Ä–æ–±–∏–º–æ –∫–Ω–æ–ø–∫—É "Play"
        console.log("Audio play blocked:", e);
      }
    });
  </script>
</body>
</html>
