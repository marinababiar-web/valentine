<!doctype html>
<html lang="uk">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Will you be my Valentine?</title>

  <style>
    :root{
      --bg1:#ffd6e8;
      --bg2:#ffeef6;
      --card:#ffffffcc;
      --text:#222;
      --muted:#555;
      --yes:#21c55d;
      --no:#111827;
    }

    *{ box-sizing:border-box; font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif; }
    body{
      margin:0;
      min-height:100vh;
      display:flex;
      align-items:center;
      justify-content:center;
      background: radial-gradient(circle at 30% 20%, var(--bg1), var(--bg2));
      padding:24px;
      overflow:hidden;
      color:var(--text);
    }

    /* Fireworks canvas (always on) */
    #fx{
      position:fixed;
      inset:0;
      z-index:0;
      pointer-events:none;
    }

    .wrap{
      position:relative;
      z-index:1;
      width:min(720px, 92vw);
      background: var(--card);
      border-radius: 24px;
      padding: 28px 22px 26px;
      box-shadow: 0 20px 60px rgba(0,0,0,.15);
      overflow:hidden;
      backdrop-filter: blur(6px);
    }

    .top{
      display:flex;
      flex-direction:column;
      align-items:center;
      text-align:center;
      gap: 10px;
    }

    .kitty{
      width: 92px;
      height: 92px;
      border-radius: 999px;
      background: #f3c28f;
      position: relative;
      margin-top: 4px;
      box-shadow: 0 10px 20px rgba(0,0,0,.12);
    }
    .kitty:before, .kitty:after{
      content:"";
      position:absolute;
      top: -12px;
      width: 22px;
      height: 22px;
      background:#f3c28f;
      border-radius: 5px;
      transform: rotate(45deg);
    }
    .kitty:before{ left: 14px; }
    .kitty:after{ right: 14px; }

    .heart{
      position:absolute;
      top: 14px;
      left: 50%;
      transform: translateX(-50%) rotate(8deg);
      width: 26px;
      height: 22px;
      background: #ff3b7b;
      border-radius: 10px 10px 6px 6px;
    }
    .heart:before, .heart:after{
      content:"";
      position:absolute;
      width: 16px;
      height: 16px;
      background:#ff3b7b;
      border-radius: 999px;
      top: -7px;
    }
    .heart:before{ left: 2px; }
    .heart:after{ right: 2px; }

    h1{
      margin: 0;
      font-size: clamp(26px, 5vw, 44px);
      line-height: 1.1;
    }

    .sub{
      margin: 0;
      font-size: 16px;
      color: var(--muted);
      min-height: 22px;
    }

    .btnArea{
      margin-top: 16px;
      display:flex;
      gap: 12px;
      justify-content:center;
      flex-wrap: wrap;
      position: relative;
    }

    button{
      border:0;
      border-radius: 999px;
      padding: 12px 18px;
      font-size: 16px;
      cursor:pointer;
      box-shadow: 0 12px 24px rgba(0,0,0,.12);
      transition: transform .12s ease, box-shadow .12s ease;
      user-select:none;
      -webkit-tap-highlight-color: transparent;
      touch-action: manipulation;
    }
    button:active{
      transform: scale(.98);
      box-shadow: 0 10px 18px rgba(0,0,0,.10);
    }

    #yesBtn{ background: var(--yes); color: #fff; font-weight: 800; }
    #noBtn{ background: var(--no); color: #fff; }

    .result{
      margin-top: 14px;
      text-align:center;
      display:none;
      animation: pop .25s ease;
    }
    @keyframes pop { from{ transform: scale(.96); opacity: .4;} to{ transform: scale(1); opacity: 1;} }

    .yay{
      font-size: clamp(28px, 6vw, 52px);
      font-weight: 900;
      margin: 8px 0 14px;
    }

    .img{
      width:min(520px, 92vw);
      border-radius: 18px;
      overflow:hidden;
      box-shadow: 0 12px 30px rgba(0,0,0,.18);
      margin: 0 auto;
      background:#fff;
    }
    .img img{
      width:100%;
      height:auto;
      display:block;
      max-height: 62vh;
      object-fit: cover;
    }

    .love{
      margin: 14px 0 0;
      font-size: clamp(18px, 3.8vw, 26px);
      font-weight: 900;
    }

    .note{
      margin-top: 8px;
      font-size: 12px;
      color:#666;
    }
  </style>
</head>

<body>
  <canvas id="fx"></canvas>

  <div class="wrap">
    <div class="top">
      <div class="kitty" aria-hidden="true">
        <div class="heart" aria-hidden="true"></div>
      </div>

      <h1><span id="name">Slava</span> will you be my valentine?</h1>

      <!-- –î–û YES: —î, –ü–Ü–°–õ–Ø YES: –∑–Ω–∏–∫–∞—î -->
      <div class="sub" id="subText">"No" –∑–¥–∞—î—Ç—å—Å—è —Ç—Ä–æ—Ö–∏ —Å–æ—Ä–æ–º'—è–∑–ª–∏–≤–∏–º üòà</div>

      <div class="btnArea" id="btnArea">
        <button id="yesBtn">YES</button>
        <button id="noBtn">NO</button>
      </div>
    </div>

    <div class="result" id="result">
      <div class="yay">YAY! üéâ</div>

      <div class="img">
        <!-- –ü–µ—Ä–µ–≤—ñ—Ä: –Ω–∞–∑–≤–∞ —Ñ–∞–π–ª—É –≤ —Ä–µ–ø–æ –º–∞—î –±—É—Ç–∏ –¢–û–ß–ù–û 548_Original.jpeg -->
        <img alt="Yay" id="yayImg" src="548_Original.jpeg">
      </div>

      <div class="love">–ö–æ—Ö–∞—é —Ç–µ–±–µ –±–µ–∑–º–µ–∂–Ω–æ</div>
      <div class="note">üíó</div>
    </div>
  </div>

  <script>
    // –ú–æ–∂–µ—à –º—ñ–Ω—è—Ç–∏ —ñ–º'—è —á–µ—Ä–µ–∑ ?name=...
    const params = new URLSearchParams(location.search);
    const n = params.get("name");
    if (n) document.getElementById("name").textContent = n;

    const yesBtn  = document.getElementById("yesBtn");
    const noBtn   = document.getElementById("noBtn");
    const btnArea = document.getElementById("btnArea");
    const result  = document.getElementById("result");
    const subText = document.getElementById("subText");

    // NO —Ç—ñ–∫–∞—î
    function moveNoButton(){
      const rect = btnArea.getBoundingClientRect();
      const btnRect = noBtn.getBoundingClientRect();
      const padding = 8;

      const maxX = rect.width  - btnRect.width  - padding;
      const maxY = rect.height - btnRect.height - padding;

      const targetX = padding + Math.random() * Math.max(0, maxX);
      const targetY = padding + Math.random() * Math.max(0, maxY);

      noBtn.style.position = "relative";
      noBtn.style.left = (targetX - (btnRect.left - rect.left)) + "px";
      noBtn.style.top  = (targetY - (btnRect.top  - rect.top )) + "px";
    }

    noBtn.addEventListener("mouseenter", moveNoButton);
    noBtn.addEventListener("touchstart", (e) => {
      e.preventDefault();
      moveNoButton();
    }, {passive:false});

    // YES: –ø–æ–∫–∞–∑–∞—Ç–∏ —Ñ–æ—Ç–æ + "–ö–æ—Ö–∞—é..." —ñ –ø—Ä–∏–±—Ä–∞—Ç–∏ "No –∑–¥–∞—î—Ç—å—Å—è..."
    yesBtn.addEventListener("click", () => {
      btnArea.style.display = "none";
      subText.style.display = "none";
      result.style.display = "block";
    });

    // -------------------------
    // FIREWORKS (ALWAYS ON, –ù–ï –¢–ï–ú–ù–ò–¢–¨ –§–û–ù)
    // -------------------------
    const canvas = document.getElementById("fx");
    const ctx = canvas.getContext("2d");

    function resize(){
      const dpr = window.devicePixelRatio || 1;
      canvas.width = Math.floor(window.innerWidth * dpr);
      canvas.height = Math.floor(window.innerHeight * dpr);
      ctx.setTransform(dpr,0,0,dpr,0,0);
    }
    window.addEventListener("resize", resize);
    resize();

    const particles = [];
    const gravity = 0.06;
    const drag = 0.992;

    function rand(min,max){ return Math.random()*(max-min)+min; }

    function boom(x,y){
      const count = Math.floor(rand(45, 90));
      const base = {
        r: Math.floor(rand(120,255)),
        g: Math.floor(rand(120,255)),
        b: Math.floor(rand(120,255)),
      };

      for(let i=0;i<count;i++){
        const a = rand(0, Math.PI*2);
        const s = rand(1.6, 6.2);
        particles.push({
          x, y,
          vx: Math.cos(a)*s,
          vy: Math.sin(a)*s,
          life: rand(55, 120),
          maxLife: 120,
          size: rand(1.2, 2.4),
          r: base.r, g: base.g, b: base.b,
        });
      }
    }

    let tick = 0;
    function loop(){
      tick++;

      // –ü–æ–≤–Ω—ñ—Å—Ç—é –æ—á–∏—â–∞—î–º–æ canvas, —Ç–æ–º—É —Ñ–æ–Ω –ù–ï —Ç–µ–º–Ω—ñ—î
      ctx.clearRect(0, 0, window.innerWidth, window.innerHeight);

      // –¢—Ä–æ—à–∫–∏ "—Å–≤—ñ—Ç—ñ–Ω–Ω—è"
      ctx.globalCompositeOperation = "lighter";

      // –ü–æ—Å—Ç—ñ–π–Ω–æ: –ø—Ä–∏–±–ª–∏–∑–Ω–æ –∫–æ–∂–Ω—ñ 18 –∫–∞–¥—Ä—ñ–≤ –Ω–æ–≤–∏–π –≤–∏–±—É—Ö
      if(tick % 18 === 0){
        boom(rand(80, window.innerWidth-80), rand(80, window.innerHeight*0.6));
      }

      for(let i=particles.length-1;i>=0;i--){
        const p = particles[i];

        p.vx *= drag;
        p.vy *= drag;
        p.vy += gravity;

        p.x += p.vx;
        p.y += p.vy;

        p.life -= 1;

        const alpha = Math.max(0, p.life / p.maxLife);

        ctx.beginPath();
        ctx.fillStyle = `rgba(${p.r},${p.g},${p.b},${alpha})`;
        ctx.arc(p.x, p.y, p.size, 0, Math.PI*2);
        ctx.fill();

        if(p.life <= 0) particles.splice(i,1);
      }

      ctx.globalCompositeOperation = "source-over";
      requestAnimationFrame(loop);
    }
    loop();
  </script>
</body>
</html>
